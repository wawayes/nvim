# LazyVim 默认快捷键指南

本文整理 `lua/config/keymaps.lua` 中的默认映射。LazyVim 会先加载自身核心配置，再执行这里的绑定；如果你修改了 `<leader>`，请将下列表格中的按键换算为你的设定（默认是空格）。

## 光标移动

| 模式 | 按键 | 功能 |
|------|------|------|
| `n`, `x` | `j`, `<Down>` | 在无计数时使用屏幕行 `gj` 向下移动，避免折行跳跃 |
| `n`, `x` | `k`, `<Up>` | 在无计数时使用屏幕行 `gk` 向上移动 |

## 窗口跳转与尺寸调整

| 模式 | 按键 | 功能 |
|------|------|------|
| `n` | `<C-h>`, `<C-j>`, `<C-k>`, `<C-l>` | 在分屏之间切换光标 |
| `n` | `<C-Up>`, `<C-Down>` | 增加 / 减少窗口高度 |
| `n` | `<C-Left>`, `<C-Right>` | 减少 / 增加窗口宽度 |
| `n` | `<leader>-`, `<leader>|` | 创建水平 / 垂直分屏（等价于 `<C-w>s`、`<C-w>v`）|
| `n` | `<leader>wd` | 关闭当前窗口 |
| `n` | `<leader>wm` | 切换当前窗口缩放（`Snacks.toggle.zoom()`）|
| `n` | `<leader>uZ` | 切换专注模式（`Snacks.toggle.zen()`）|

## 行与块的移动

| 模式 | 按键 | 功能 |
|------|------|------|
| `n` | `<A-j>`, `<A-k>` | 将当前行向下 / 向上移动（支持计数）|
| `i` | `<A-j>`, `<A-k>` | 在插入模式移动当前行并返回插入点 |
| `v` | `<A-j>`, `<A-k>` | 将选中区域向下 / 向上移动并保持选择 |

## 缓冲区管理

| 模式 | 按键 | 功能 |
|------|------|------|
| `n` | `<S-h>`, `[b` | 切换到上一个缓冲区 |
| `n` | `<S-l>`, `]b` | 切换到下一个缓冲区 |
| `n` | `<leader>bb`, `<leader>`+反引号 | 切换到上一个缓冲区（alternate buffer）|
| `n` | `<leader>bd` | 调用 `Snacks.bufdelete()` 关闭当前缓冲区而保留窗口 |
| `n` | `<leader>bo` | 关闭除当前外的所有缓冲区 |
| `n` | `<leader>bD` | 关闭当前缓冲区及其窗口 |

## 搜索与编辑辅助

| 模式 | 按键 | 功能 |
|------|------|------|
| `i`, `n`, `s` | `<Esc>` | 清除搜索高亮，终止 snippet / AI 补全，然后执行 `<Esc>` |
| `n` | `<leader>ur` | 清除高亮、刷新 diff、重绘界面 |
| `n`, `x`, `o` | `n`, `N` | 按搜索方向跳转结果并展开折叠 |
| `i` | `,`, `.`, `;` | 插入字符后建立撤销断点 |
| `n`, `v` | `<leader>cf` | 强制格式化（`LazyVim.format({ force = true })`）|
| `n` | `gco`, `gcO` | 在下 / 上方插入注释并调整光标 |
| `v` | `<`, `>` | 调整缩进并保持可视模式 |

## 文件、保存与实用命令

| 模式 | 按键 | 功能 |
|------|------|------|
| `i`, `x`, `n`, `s` | `<C-s>` | 保存当前缓冲区 |
| `n` | `<leader>fn` | 新建空缓冲区 |
| `n` | `<leader>l` | 打开 Lazy.nvim 面板 |
| `n` | `<leader>K` | 对光标处单词执行 `keywordprg` |

## 诊断与列表

| 模式 | 按键 | 功能 |
|------|------|------|
| `n` | `<leader>cd` | 打开当前行诊断浮窗 |
| `n` | `]d`, `[d` | 跳到下一 / 上一条诊断信息 |
| `n` | `]e`, `[e` | 跳到下一 / 上一条错误 |
| `n` | `]w`, `[w` | 跳到下一 / 上一条警告 |
| `n` | `<leader>xl` | 打开或关闭位置列表（含错误处理）|
| `n` | `<leader>xq` | 打开或关闭 quickfix 列表（含错误处理）|
| `n` | `[q`, `]q` | 在 quickfix 列表中前后跳转 |

## Snacks 提供的开关

| 按键 | 功能 |
|------|------|
| `<leader>uf`, `<leader>uF` | 切换格式化（普通 / 强制）|
| `<leader>us` | 切换拼写检查 |
| `<leader>uw` | 切换自动换行 |
| `<leader>uL` | 切换相对行号 |
| `<leader>ud` | 开关诊断显示 |
| `<leader>ul` | 切换绝对 / 相对行号 |
| `<leader>uc` | 切换遮蔽级别（conceallevel）|
| `<leader>uA` | 显示 / 隐藏标签栏 |
| `<leader>uT` | 切换 Treesitter 高亮 |
| `<leader>ub` | 切换浅色 / 深色背景 |
| `<leader>uD` | 切换背景淡化 |
| `<leader>ua` | 切换动画效果 |
| `<leader>ug` | 切换缩进指示线 |
| `<leader>uS` | 切换平滑滚动 |
| `<leader>dpp`, `<leader>dph` | 切换性能分析器及其高亮 |
| `<leader>uh` | 切换 LSP Inlay Hints（若支持）|

## Git 集成（Snacks）

| 模式 | 按键 | 功能 |
|------|------|------|
| `n` | `<leader>gg` | 在项目根目录启动 Lazygit |
| `n` | `<leader>gG` | 在当前目录启动 Lazygit |
| `n` | `<leader>gL` | 打开当前目录的 Git 日志选取器 |
| `n` | `<leader>gl` | 打开项目根目录的 Git 日志选取器 |
| `n` | `<leader>gb` | 显示当前行的 blame 信息 |
| `n` | `<leader>gf` | 查看当前文件历史 |
| `n`, `x` | `<leader>gB` | 在浏览器中打开对应远程页面 |
| `n`, `x` | `<leader>gY` | 复制远程链接到剪贴板（静默）|

## 终端管理

| 模式 | 按键 | 功能 |
|------|------|------|
| `n` | `<leader>ft` | 在项目根目录打开浮动终端 |
| `n` | `<leader>fT` | 在当前目录打开浮动终端 |
| `n` | `<C-/>`, `<C-_>` | 切换浮动终端（根目录）|
| `t` | `<C-/>`, `<C-_>` | 关闭当前浮动终端 |

## 标签页

| 模式 | 按键 | 功能 |
|------|------|------|
| `n` | `<leader><Tab><Tab>` | 新建标签页 |
| `n` | `<leader><Tab>]`, `<leader><Tab>[` | 切换到下一 / 上一标签页 |
| `n` | `<leader><Tab>f`, `<leader><Tab>l` | 跳到第一个 / 最后一个标签页 |
| `n` | `<leader><Tab>o` | 关闭其他标签页 |
| `n` | `<leader><Tab>d` | 关闭当前标签页 |

## 退出与其他工具

| 模式 | 按键 | 功能 |
|------|------|------|
| `n` | `<leader>qq` | 退出所有窗口 |
| `n` | `<leader>ui` | 查看光标处高亮及语法信息 |
| `n` | `<leader>uI` | 打开 Treesitter 调试并进入插入模式 |
| `n` | `<leader>L` | 查看 LazyVim 更新日志 |

## 自定义提示

- 按功能归类映射，并提供易懂的 `desc` 描述，方便 which-key 展示。
- 新增映射时优先使用 `vim.keymap.set(modes, lhs, rhs, opts)`；使用 LazyVim 的封装前请确认其行为。
- 修改后执行 `:Lazy reload` 或重启 Neovim 以重新加载配置。
- 如需了解 LazyVim 原始默认值，可查阅其仓库的 `lua/lazyvim/config/keymaps.lua` 文件。

